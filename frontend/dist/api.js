import{updateVisualization}from"./d3_scripts.js";import{trainModel}from"./logisticModel.js";async function fetchData(){try{const t=await fetch("https://localhost:5000/view-user-data");if(!t.ok)throw new Error("Network response was not ok");const o=await t.json();return sessionStorage.setItem("gameData",JSON.stringify(o)),o}catch(t){console.error("Failed to fetch data:",t)}}console.log("api.js loaded"),document.getElementById("refreshButton").addEventListener("click",(async()=>{console.log("Refresh button clicked. Fetching new data...");const t=await fetchData();console.log("refresh",t);const o=await trainModel();console.log("Predictions:",o),updateVisualization(t,o)}));